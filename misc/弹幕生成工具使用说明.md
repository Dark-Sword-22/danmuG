## 弹幕生成工具使用说明

参考 [#8](https://github.com/Dark-Sword-22/danmuG/issues/8), 使用本工具可以将`data`文件夹内的已经标注好分P时间的数据转化成`.ass`格式的弹幕。


### 使用方式

将标注好分P错位时间的`.txt`格式文件拖入到`danmu_ass_generator.cmd`即可（针对windows系统），会针对每一分P生成一份`.ass`文件。

当然你需要提前准备[Python环境](https://www.python.org/downloads/release/python-3104/)，同时需要打开命令提示符执行以下命令
```
pip install pipeit loguru
```
安装依赖包以确保程序可以正常工作。

### 讨论

随手写小的小工具，主要使用方式是自娱自乐，下载视频后载入弹幕观看，不必等待重投结束。当然问题在于需要下载视频，还是挺麻烦的，如果你真的很想看新一期有弹幕的视频的话，如果真的很急，不妨使用离线弹幕。当然需要提前标注好数据，由于仓库管理员标注时间不固定，也不保证稳定，有需要可以自行标注，当然也欢迎标注后分享到仓库，可以造福其他人民群众。

另一种使用方式是录播哥可以结合使用仓库里的另一个文件（下载高清视频流的），那个工具由于有自动并发和掉线重连的机制，稳定性应该比录屏看到的直播流好上不少，再加上录屏的画质损失。一方面拿到流，另一方面使用[一些工具](https://github.com/AmusementClub/assrender)重新压入弹幕，如果你擅长压制，应该可以获得比录屏好很多的画质。当然一个尴尬之处在于弹幕如果再30fps下飘过肉眼可见还是比较卡顿的，起码要开到60fps以后才可以保证流畅，结合叔叔抠网费的大环境，其实不是很利于分发。

这个工具其实早就有想法，毕竟早期社区好哥哥厨力较弱，每天弹幕重投数量有限。我本人之所以做这个项目主要还是为了偶尔闲下来能点开直播乐一乐，早期还是投不太动的，比较吃瘪，当时感觉要是能离线看就好了，虽然写这么个东西也就两小时的事，不过因为独乐乐的体验过于私人，让我感觉很无聊，最后倒也没付诸行动。

还有另一种方式就是，之前也有很多人提过的，为什么不搞个浏览器插件，装上以后直接就能看，也不用费劲重投了。其实严格说来几乎不存在任何技术方面的困难，插件方案不会比当前这个方案复杂多少，甚至还可以在基础之上开发新功能，比如弹幕平台看同一期视频的人可以版聊之类的，不一而足尽可发挥想象。一直没做还是有多方面考量，一方面是安全方面的，浏览器插件其实权限是很大的，如果被坏哥哥乘虚而入可以干很多坏事。对于一个网友自发参与的松散组织，要做到可靠的安全管理其实是不太现实的事情，如果推广开来很多人用，却突然某天爆了雷，只能说我们尽量不要发生这样的事情。 另一个观点就是我之前说过的了，弹幕重投本质上还是小群体为了自娱自乐的一些小活动，虽然在能做到的前提下我们也不吝于帮助更广大的粉丝群体提高整体观看体验，而不是完全的自扫门前雪（比如像这个工具一样，自己爬取弹幕，自己观看离线弹幕），但本质上都还属于在不太过分的范围内撩拨丁叔叔和陈叔叔的底线。至于基于某企业的核心业务，在其上另起炉灶替代其作用，在我看来则是损害公司商业利益的过线行为了，是以这个方案一直没有实施，也没有实施的计划。

另外一点是关于为什么作者本人掌握较高生产力的同时不自己去下载视频流和弹幕流重压视频投稿，我个人的观点是这种行为本质上还是分裂社区的行为。如同之前陈叔叔在自己的流服务能力没达标的情况下强行向国际大企业看齐，取消视频分P的情况，本质也会使得一个长视频的讨论区被分割为零散的多份，在我看来得不偿失。所以这个工具虽然能够在弹幕录播发挥作用，但我看来更多的还是自娱自乐的作用更强一些，在叔叔不能直接导入弹幕的情况下，目前群策群力投稿已是比较可行的方案。